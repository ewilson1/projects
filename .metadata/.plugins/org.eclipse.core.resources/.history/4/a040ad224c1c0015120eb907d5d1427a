//declare a variable to run a function, then another variable for the window
var weatherPage = function(){
	var weatherWindow = Ti.UI.createWindow({
		title: "Weather Gallery"
	});
	weatherWindow.add(bgImage);
	//don't forget to call the navigation window from the first page and load the new variable window name
	navWindow.openWindow(weatherWindow);
};

//add event listener here, there will be another event listener at the bottom of the page
openView.addEventListener("click", weatherPage);

//set the parameters for the background page
var pWidth = Ti.Platform.displayCaps.platformWidth;
var pHeight = Ti.Platform.displayCaps.platformHeight;


var bgImage = Ti.UI.createImageView({
	image: "Weather-Background.jpg",
	width: pWidth,
	height: pHeight
});

var wxTeam = require("team");

//Start building the platform to meet the requirements of this page

var imageFiles = ["lightning-storm.jpg", "rainy1.jpg", "snowy1.jpg", "storms1.jpg", "sunny1.jpg"];
var i=0;

	var seeWx = function(){
		var wxView = Ti.UI.createView({
			//image: imageFiles[i],
			top: 100,
			left: 10,
			right: 10,
			borderRadius: 20	
		});
		
	    var i = Math.floor((Math.random()*4));
        console.log(i);
	        var pics = Ti.UI.createImageView({
	        image: imageFiles[i],
	        top: 0,
	        width: "auto",
	        height: "auto"
    });
    
    //add the pics image view variable to the wxView view variable    
    wxView.add(pics);
    bgImage.add(wxView);
    };

var forward = function(){
	if(imageFiles[i] == null){
		i=0;
	}
	console.log(imageFiles[i]);
	i++;
};

	//create the view for the button
	var buttonViewNext = Ti.UI.createView({
		backgroundColor: "#23ba00",
		width: 100,
		height: 50,
		top: wxView.top + 200,
		borderRadius: 5
	});
	
	//Now create the text for the next button
	var buttonTextNext = Ti.UI.createLabel({
		color: "#fff",
		font: {fontSize: 16, fontFamily: "Arial"},
		textAlign: "center",
		text: "Next Image"	
	});

	//add the label to the view
	buttonViewNext.add(buttonTextNext);

	//add the button to the window
	wxView.add(buttonViewNext);
	
//add the view to the bgImage
bgImage.add(wxView);

buttonViewNext.addEventListener("click", forward);
